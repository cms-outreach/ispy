2009-10-23  Thomas McCauley <thomas.mccauley@cern.ch>

	* ISpyApplication.cc: GSF electrons support.

	* ISpyApplication.cc: Move muons to physics objects.

	* ISpyApplication.cc, default-style.css: PAT muons support.

	* ISpyApplication.cc, default-style.css: PAT electrons support.
	
	* ISpyApplication.cc: Trigger objects drawing.

	* ISpyApplication.cc, default-style.css: add support for
	  PAT and Reco Photons.

2009-10-28  Giulio Eulisse <giulio.eulisse@cern.ch>

	* ISpyMainWindow.h, ISpyRestartPlayDialog.h ISpySplashScreen.h          
	  IgSettingsEditor.h, ui_ISpyRestartPlayDialog.h, ui_ISpySplashScreen.h
	  ui_IgMainWindow.h, ui_IgSettingsEditorMainWindow.h ispy.pro                      
	  ISpySplashScreen.ui, IgMainWindowMDI.ui: qmake now runs uic. No
	  need anymore for generating the ui_* files by hand.

2009-10-19  Giulio Eulisse <giulio.eulisse@cern.ch>

	* ISpyApplication.cc, Iguana/QtGUI/interface/default-style.css,
	  ISpyApplication.h, ispy.qrc, ISpy3DView.cc: rendering style
	  of various collection is now managed in a css like
	  file which contains all the materials and draw properties.
	  The default style was actually prepared by Lucas.

	* ispy.pro: Creates resources using qmake. No need anymore 
	  for generating `qrc_*.cc` resource files by hand.

2009-10-19  Ianna Osborne <ianna.osborne@cern.ch>

	* ISpyApplication.cc: Correct size of ECAL rec hits in Lego.

2009-10-19  Giulio Eulisse <giulio.eulisse@cern.ch>

	* ispy.pro: track header (.h) files which are kept in src/ .

2009-10-07  Lucas Taylor <lucas.taylor@cern.ch>

	* ISpyApplication.cc: more changes to name / visibility of the
	  collection to match the PBS.

	* ISpyApplication.cc: improved event information.

2009-10-07  Ianna Osborne  <ianna.osborne@cern.ch>

	* ISpyApplication.cc: Add Jets to Lego view. Display as circles.

	* ISpyApplication.cc: Add and display HCAL rechits to Lego view.

	* ISpyApplication.cc: Add and draw ECAL rec hits in Lego.

2009-10-05  Ianna Osborne  <ianna.osborne@cern.ch>

	* ISpy3DView.cc: Do not allow popping up a non-functional GUI on
	  right mouse click.

2009-09-13  Giulio Eulisse <giulio.eulisse@cern.ch>

	* ispy.pro, Iguana/QtGUI/src/Info.plist, Iguana/QtGUI/src/ispy.icns:
	  MacOSX version now has a nice icon.

	* ispy.pro: build as "release" by default.

	* ispy.pro: MacOSX Tiger (10.4) support.

	* ISpyApplication.cc: made a few terminal only errors
	  also pop up a error dialog.
	
	* ISpyApplication.cc: automatically downloads geometry.
	
	* ISpyApplication.cc, ui_ISpySplashScreen.cc: release version

2009-09-12  Tom McCauley <thomas.mccauley@cern.ch>

	* ISpyApplication.cc: CSC wire and strip digis in 3D and RZ.
	
	* ISpyApplication.cc: thicken all track lines to 3

2009-09-11  Tom McCauley <thomas.mccauley@cern.ch>

	* ISpyApplication.cc: make MET dashed and get rid of spurious code
	  in drawing method.

2009-09-08  Giulio Eulisse <giulio.eulisse@cern.ch>
	
	* ispy.pro: typo in qmakefile corrected.
	
	* Iguana/QtGUI/scripts/ispy.pro: qmakefile to build ispy without
	  scram.

2009-09-08  Tom McCauley <thomas.mccauley@cern.ch>

	* ISpyApplication.cc: enable V2 of stand-alone muons, thicken reco
	  tracks, and minor clean ups in track draw code

2009-08-04  Ianna Osborne  <ianna.osborne@cern.ch>

	* ISpyApplication.h, ISpyApplication.cc: Enable sorting of in the
	  table view.

2009-09-04  Giulio Eulisse <giulio.eulisse@cern.ch>

	* IgCollectionTableModel.cc, IgMainWindowMDI.1.0.ui: make index
	  column in table a real column rather than an header.

2009-09-04  Lucas Taylor <lucas.taylor@cern.ch>

	* ISpyApplication.cc: significantly re-organises all the tree
	  widget collections to:
	  1) be consistent with the structure of the (Excel) PBS
	  2) make them mututally consistent (with other views)
	  3) use more understandable friendly names
	  4) add some collections missing in some views
	  5) improve visibility of the track like objects

2009-09-02  Giulio Eulisse <giulio.eulisse@cern.ch>

	* ISpyApplication.cc: clean-up code to always use IgProperties
	  to retrieve stuff from the collection rather than use
	  strings.

2009-08-26  Giulio Eulisse <giulio.eulisse@cern.ch>

	* BuildFile.xml: link libgcc statically so that we don't
	  have conflicts with CMSSW environment.

2009-08-26  Tom McCauley <thomas.mccauley@cern.ch>

	* ISpyApplication.cc: draw GsfPFRecTracks and PFBrems.

	* ISpyApplication.cc: draw PFRecHits and PFRecTracks

2009-08-26  Giulio Eulisse <giulio.eulisse@cern.ch>

	* ispy.cpp: reset locale settings to avoid parsing problems.

2009-08-24 Tom McCauley <thomas.mccauley@cern.ch>

	* ISpyApplication.cc: draw GsfTracks in RPhi and remove spurious 
	GsfTrack draw in 3D

2009-08-20 Tom McCauley <thomas.mccauley@cern.ch>

	* ISpyApplication.cc: keep older muon drawing code along with new
	drawing of 3 muons -> for 3D, RZ, RPhi

2009-08-20  Giulio Eulisse <giulio.eulisse@cern.ch>
	
	* IgParser.h: workaround bad_alloc exceptions by reducing ig file 
	  parser memory reservation. A proper fix will follow.

	* ui_ISpySplashScreen.h, ISpyApplication.cc, ISpySplashScreen.ui
	  ISpyApplication.cc: version number changed to 1.2.2.

2009-08-20 Ianna Osborne <ianna.osborne@cern.ch>

	* ISpyApplication.cc: closes the application correctly (by calling
	  onExit only once) when last window is closed. This fixes the
	  bug which had the consumer thread hanging on exit in online mode.

2009-08-19  Ianna Osborne  <ianna.osborne@cern.ch>

	* ISpyApplication.cc: Add Event and L1 trigger info in Lego.

	* ISpyApplication.cc: Set a better default camera position for
	Lego. 

2009-08-17  Ianna Osborne  <ianna.osborne@cern.ch>

	* ISpyConsumerThread.h, ISpyConsumerThread.cc, ISpyApplication.cc:
	  Implementation of online event navigation. The new events are
	  taken from an online buffer. Previously viewed events are
	  stored in a viewed buffer. If the producer goes down, the events 
	  from the online buffer are still served, but marked as staled.
	  Previously viewed events displayed with such message.

2009-08-14 Thomas McCauley  <mccauley@mail.cern.ch>

	* ISpyApplication.cc: yet another renaming for the default "Open url"
	  file.

2009-08-14  Ianna Osborne  <ianna.osborne@cern.ch>

	* ISpyConsumer.h: Cleanup unused production of latest ig file.

2009-08-13  Ianna Osborne  <ianna.osborne@cern.ch>

	* ISpyConsumerThread.cc, ISpyConsumerThread.h, ISpyConsumer.h:
	Change passing string to IgNet::Objects.

2009-08-13  Ianna Osborne <ianna.osborne@cern.ch>

	* ISpyConsumer.h: reverts I/O interval to default value as it
	  was erroneously changed in the first place. This improves
	  performance of the "online" infrastructure.

2009-08-10  Giulio Eulisse <giulio.eulisse@cern.ch>

	* ISpyApplication.cc, ISpySplashScreen.ui, ui_ISpySplashScreen.h: 
	  Misc fixes for 1.2.1. Version number bumped to 1.2.1.
	  Hypernews forum used on feedback dialog.

2009-08-10  Ianna Osborne <ianna.osborne@cern.ch>

	* ISpyApplication.cc: improved display option for DT and 
	  SiStrip.

2009-08-10  Lucas Taylor <lucas.taylor@cern.ch>

	* ISpyApplication.cc: uses a different rel val file as default
	  one for the "open url" dialog. The new one contains examples
	  of the sim tracks and other new objects available since 1.2.

2009-08-10  Thomas McCauley <mccauley@mail.cern.ch>

	* ISpyApplication.h: Displays L1 Trigger information in the 
	  3D view.

2009-08-06  Ianna Osborne  <ianna.osborne@cern.ch>

	* IgDrawTowerHelper.h, IgDrawTowerHelper.cc: Displays calo towers
	in lego. 
	* ISpyApplication.cc: Introduces Lego view. Displays lego grid.
	* IgNetworkReplyHandler.cc: Closes the device before aborting.

	* ISpyApplication.cc: Display preshower rechits in 3D abd RZ
	views. 

2009-08-03  Ianna Osborne  <ianna.osborne@cern.ch>

	* ISpyApplication.h, ISpyApplication.cc: Remove circular
	dependencies between ISpyMainWindow and ISpyApplication. Remove
	circular dependencies between ISpySplashScreen and
	ISpyApplication. Remove unused member functions for cleaning up
	the splash screen. Clean up the splash at the end with a thank you
	message.
	* ISpyMainWindow.h, ISpyMainWindow.cc: Remove circular
	dependencies between ISpyMainWindow and ISpyApplication. 
	* ISpySplashScreen.h, ISpySplashScreen.cc: Remove circular
	dependencies between ISpySplashScreen and ISpyApplication. Clean
	up unused but emitted signals from the splash screen. Use more
	portable window settings to add a close button on the splash
	screen which also works on Linux. 

2009-07-26 Giulio Eulisse <giulio.eulisse@cern.ch>

	* ISpyApplication.h, IgNetworkReplyHandler.h, ISpyApplication.cc
	  IgNetworkReplyHandler.cc: improves the behavior of the download
	  dialog and simplifies some of its internal logic.

2009-07-26 Lucas Taylor <lucas.taylor@cern.ch>

	* ISpyApplication.cc: increased delays between switching from 
	  a view to another. Increase event fetching period for Auto-Play
	  mode.

2009-07-26 Ianna Osborne <ianna.osborne@cern.ch>

	* ISpyApplication.cc: visibility settings as requested by online.

2009-07-26 Giulio Eulisse <giulio.eulisse@cern.ch>
	
	* ISpyApplication.cc: toolbar on mac uses "unified" look.
	
	* ISpySplashScreen.ui, ui_ISpySplashScreen.h, ISpyApplication.cc:
	  version string updated to 1.2.

	* IgNet.cc: increases the MESSAGE_SIZE_LIMIT to 8MB. This
	  works around the "Message too big" errors when connecting to the
	  online producers.

	* ISpySplashScreen.cc, ISpyApplication.cc: adds a close button
	  to the splash screen dialog also on mac.

	* ISpyApplication.cc, IgCollectionTableModel.cc,
	  IgCollectionTableModel.h: adds a clear method to the
	  IgCollectionTableModel and uses it to clear the model on 
	  updateCollection, rather deleting it.

2009-07-24 Giulio Eulisse <giulio.eulisse@cern.ch>

	* ISpyApplication.cc, ISpyApplication.h, ISpy3DView.cc, ISpy3DView.h:
	  adds the possibility to specify whether a given camera can be
	  rotated or not. This feature is used to make sure R-Phi and R-Z
	  views cannot be rotated.

2009-07-22 Ianna Osborne <ianna.osborne@cern.ch>

	* ISpyApplication.cc: when using `--online` the application starts
	  up maximized.
	
	* IgDrawTowerHelper.h, ISpyApplication.cc, IgDrawTowerHelper.cc:
	  Proper views for 3D, R-phi, R-Z, including correct geometry and
	  nice event products selection. Geometry is also now drawn in 
	  wireframe.

	* ISpyRestartPlayDialog.cc, ISpyApplication.h, ISpyApplication.cc
	  ui_ISpyRestartPlayDialog.h, ISpyRestartPlayDialog.ui: support
	  for iteration over different views in autoplay mode. When paused
	  it will pop up an "idle" dialog after a while. Notice this
	  is not the correct behavior as the "idle" timer should start
	  when user interaction ends and should be reset when ever there is
	  some more interaction.

	* ISpy3DView.h, ISpy3DView.cc: resetToHomePosition method removed,
	  since it is now responsibility of the ISpyApplication class.

2009-07-21 Giulio Eulisse <giulio.eulisse@cern.ch>

	* ISpyApplication.cc: Fixes a bug in the geometry caching logic.
	  There was a bug when caching geometry across view changes which is
	  due to the fact that multiple views could generate shapes using
	  different make3D functions (or, like in this case, some of the views
	  could even not have a make3D). The second patch makes sure that
	  everything is consistent. This pretty much disables the caching
	  across view changes. At some point we should add some better caching
	  logic so that the cache takes the make3D used into account. Not for
	  now.

	* ISpyApplication.cc, ISpyApplication.h: Implements visibility groups.
	  A visibility group is a set of collections among which all those
	  referring to the same IgCollection (label) share the same visibility
	  settings. A visibility group is defined by doing:

	  visibilityGroup()

	  in the definition of the views. All subsequent collection()
	  statement will belong to the previous visibility group. This can be
	  used to track visibility separately across views by having one
	  visibility group per view. E.g.:

	  ..
	  visibilityGroup();
	  view("Some View");
	  collection("A1", "A_V1");
	  collection("B1", "B_V1");
	  view("Some other view");
	  collection("A2", "A_V1");
	  visibilityGroup();
	  view("Some third view");
	  collection("A3", "A_V1");
	  ..

	  in the above example, A1 and A2 share the same visibility settings
	  (because they belong to the same visibility view). B1 is independent
	  from A1,A2,A3 (because it refers to a different collection). A3 is
	  independent from A1 and A2, because it is in another visibility
	  group.
	            
	  Notice that while not currently implemented (because we don't have
	  any GUI for handling it), it is trivial to add the possibility to
	  link and unlink the visibility settings of views at run time.
	  Something cool to have once we get the subviews working.

2009-07-21  Ianna Osborne <ianna.osborne@cern.ch>

	* Remove unnecessary conversion to std::string
	* Remove unnecessary copy to std::stringstream

2009-07-19  Giulio Eulisse <giulio.eulisse@cern.ch>
	
	* ui_IgMainWindow.h, ISpyMainWindow.cc, IgMainWindowMDI.1.0.ui:
	  Three "File > Open XXX" menus merged into one single "Open..." 
	  which only shows the wizard.

2009-07-18  Ianna Osborne <ianna.osborne@cern.ch>
	
	* ui_IgMainWindow.h IgMainWindowMDI.1.0.ui, ISpyApplication.cc
	  ISpyMainWindow.cc: unneeded actions removed.

	* ispy.qrc, ui_IgMainWindow.h IgMainWindowMDI.1.0.ui, 
	  qrc_ispy.cc: improved icons for autoplay and pause.

2009-07-17  Ianna Osborne <ianna.osborne@cern.ch>

	* ISpyApplication.cc, ISpyConsumerThread.cc, IgNet.cc
	  ISpyApplication.h, ISpyConsumer.h, ISpyConsumerThread.h
	  ISpyDigitalClock.h, ISpyApplication.cc, ISpyDigitalClock.cc:
	  support for online. Specifying --online host:port on the 
	  command line, ispy will connect a DQM like producer
	  of events. In this mode iSpy starts in "auto play" mode
	  and will fetch a new event every 15 seconds.

	* ISpyApplication.cc: clean up of QSettings for online.

2009-07-17  Thomas McCauley <mccauley@mail.cern.ch>

	* ISpyApplication.cc: more clean-ups to the GSF and normal tracks.

2009-07-17  Ianna Osborne <ianna.osborne@cern.ch>

	* ISpyApplication.cc, IgDrawTowerHelpers.cc, IgDrawTowerHelpers.h:
	  fixes overlapping contributions to the calo towers.

	* IgDrawTowerHelpers.cc, IgDrawTowerHelpers.h: few cosmetic fixes.

2009-07-17  Giulio Eulisse <giulio.eulisse@cern.ch>
	
	* stylesheet-branch-open.png, ispy.qrc, ui_IgMainWindow.h
	  ISpyApplication.cc, IgMainWindowMDI.1.0.ui, qrc_ispy.cc:
	  improved look and feel of the combo box controlling
	  which view is selected. Among other things works around
	  the bug in mouse-wheel handling in Qt.

	* ISpy3DView.h, ISpyApplication.h, Ig3DBaseModel.h,
	  ISpy3DView.cc, ISpyApplication.cc, Ig3DBaseModel.cc:
	  support for view with separate cameras. There is now
	  an additional method "camera" to specify the initial
	  (default) camera all the subsequently defined views share.


	* ISpyApplication.cc, ISpyApplication.h,
	  ui_IgMainWindow.h, IgMainWindowMDI.1.0.ui: multiple view
	  support added. There is now a "view" specification method, 
	  which can be used to assign all the subsequent "collection"
	  specification to a given view.

2009-07-16  Thomas McCauley <mccauley@mail.cern.ch>

	* ISpyApplication.cc: support for GSF tracks and L1 triggers.

2009-07-14  Thomas McCauley <mccauley@mail.cern.ch>
	
	* ISpyApplication.cc: renaming / regrouping of collections.

2009-07-10  Thomas McCauley <mccauley@mail.cern.ch>

	* ISpyApplication.cc: Fixes spurious SimHits.

2009-07-09  Giulio Eulisse <giulio.eulisse@cern.ch>

	* ISpyApplication.cc, ISpyApplication.h,
	  ui_IgMainWindow.h, IgMainWindowMDI.1.0.ui: better look 
	  and feel for the tree viewer.
	  Besides prettier colors and fonts, it now resizes correctly,
	  with the number of items and the checkbox remaining anchored
	  to the right side.
	
2009-07-08  Thomas McCauley <mccauley@mail.cern.ch>

	* ISpyApplication.cc: better grouping of collections.

2009-07-07  Giulio Eulisse <giulio.eulisse@cern.ch>

	* ISpyApplication.h, ISpyMainWindow.h, ispy.qrc, ui_IgMainWindow.h:
	  reverting erroneous commit by Ianna.

2009-07-03  Giulio Eulisse <giulio.eulisse@cern.ch>

	* ISpyApplication.cc, ISpyApplication.h: support from two level
	  grouping structure in the tree view. It is now possible to
	  specify a two level structure by simply passing "Group/Name" to
	  the "collection" method. Group state (expanded or collapsed) is
	  preserved across event / file boundaries. Collection specification
	  without a two level grouping will be added by default to the
	  "Others" group.

2009-07-02  Giulio Eulisse <giulio.eulisse@cern.ch>

	* ISpyApplication.cc: more fixes in the tree view. In particular
	  elements are now sorted according the order in which `collection`s
	  specifications are created. 

2009-07-02  Giulio Eulisse <giulio.eulisse@cern.ch>

	* ISpyApplication.cc: Fix the about dialog not appearing correctly.

2009-07-02  Thomas McCauley <mccauley@mail.cern.ch>

	* ISpyApplication.cc: updated default settings for visibility.

2009-06-29  Giulio Eulisse <giulio.eulisse@cern.ch>
	
	* ISpyApplication.cc: Misc cosmetic fixes.

	    * Documentation for the visibility option added. 
	    * NULL changed to 0 everywhere.

	* ISpyApplication.cc: reindentation fixes.

2009-06-29  Giulio Eulisse <giulio.eulisse@cern.ch>

	* ISpyApplication.h, ISpyApplication.cc: Improved visibility handling.
	  
	  * Removes dependency on QSettings.
	  * Adds an option to specify the default visibility for each
	    collection spec.
	  * Does not show the checkbox in the case the collection is not to be
	    drawn in 3D.  

2009-06-29  Thomas McCauley <mccauley@mail.cern.ch>

	* IgSoSplineTrack.cc, ISpyApplication.cc: SimTracks support.
	  Includes fix for "last dot" from George.

Script to indent sources added to repository.

* Requires Lassi's defaults and emacs.

Fixes all the known indentation and spacing issues.

* 2 spaces rather than 4 for indentation.
* No tabs.
* No space between method name and "(...)".

Remove gl2ps and associated code.

Cleans up Iguana/Inventor shapes.

* Unused shapes (and tests) removed from Iguana/Inventor.
* Used shapes (and tests) moved to Iguana/QtGUI/src (or test).
* Workaround to get the patch working with old release
  areas.

MDI Widget removed.

The following patch fixes a few warnings, in particular:

* Removes (or uses properly) unused parameters.
* Fixes a warning about signed / unsigned conversions.
* Removes useless assert for unsigned int > 0.
* Fixes ambiguous if - else if statement.

Misc fixes (Lassi & Giulio).

* Uses /afs/cern.ch/cms/CAF/CMSCOMM/COMM_DQM/ispy-files as shortcut in the dialog.
* Uses a working url as default for the Open Url dialog.
* Removes "," after please.
* Transparency is now back to "sorted object blend".
* Resilient handling of archives with both geometry and events.

New web wizard and ability to fetch stuff from the web (Giulio).

* On startup, if no files are provided, a new wizard pops up, allowing you,   
  among other things, to download files from the web.
* The new startup wizard also provides a "Latest News" dialog and a slighly
  reworked "About" dialog. The "Latest News" dialog fetches news from:

    http://iguana.web.cern.ch/iguana/ispy/ispy-news.htm

* An "Open url" dialog (accessible from the "File" menu) is provided to 
  download ig files by specifying a url. 

Improved event drawing logic to highlight interesting parts. (Lucas)

* General tuning of all drawstyles to be able to see key physics features
  without the need to turn off all low energy / high multiplicity objects 
  first.
* Fix tracker/pixel hits, digis and rec hits colors and shapes
    * same base colour per detector
    * higher multiplicity objects (e.g. digis) dimmer
    * pixels hotter than strips
* Draws the HCAL energy not as towers but as boxes centred on
  Calorimeter cell and scaled by energy but not to exceed tower size.
* Create IgDrawTowerHelpers on stack (to avoid memory leaks).
* New missing Et drawing with energy label.

Reworked drawing logic by Lassi.

* All the twigs are now gone, drawing logic moved completely to
  ISpyApplication.
* Multi-threaded read logic is now gone.
* About dialog now behaves correctly.
* Geometry and envets can now be part of the same file.
* Multiple files can be read and iSpy behaves as expected.
* Collection table now updates correctly.

Improved API for IgCollection, IgCollectionIterator, IgDataStorage, ParseError

* Operators ++, --, -= += for IgCollectionIterator properly implemented. 
* Arrow (->) operator added for IgCollectionIterator.
* IgCollection::hasProperty(const std::string &) added.
* IgDataStorage::getCollectionPtr / IgDataStorage::getAssociationSet
  now can retrieve properties using an std::string or the position 
  of the collection / association set in the data storage.
* ParseError now can return the  position where the error occurred.

Improved overlay display.

* Better formatting / control of formatting
* Multi-line (primitive table) for event info
* perspective -> orthographic camera to avoid strange behaviour when resizing  
  window
