2010-01-28 Ianna Osborne <ianna.osborne@cern.ch>

	* default-views.iml: support for splitted tracker geometry.

2010-01-28 Giulio Eulisse <giulio.eulisse@cern.ch>

	* ISpyApplication.cc: version bumped to 1.4.4.
	
	* Framework/bin/igdumpstats.cpp 
	  Framework/interface/IgCollection.h 
	  Framework/interface/IgParser.h 
	  Framework/src/IgCollection.cc 
	  Framework/test/test_CollectionIOPerformance.cpp
	  Framework/test/test_CreateSimpleAssociations.cpp
	  Framework/test/test_CreateSimpleAssociations02.cpp
	  Framework/test/test_CreateSimpleCollection.cpp
	  Framework/test/test_CreateWriteReadWriteReadPrint.cpp
	  Framework/test/test_CreateWriteReadWriteReadPrintNoAssociations.cpp
	  Framework/test/test_NavigateAssociations.cpp
	  Iguana/Framework/test/test_driver.cpp
	  Iguana/QtGUI/interface/ISpyApplication.h
	  Iguana/QtGUI/src/ISpyApplication.cc
	  Iguana/QtGUI/src/IgCollectionTableModel.cc
	  ispy-test.pro: Refactoring of the way associations in ig files are
	  created / iterated.

	  There is now a new iteration syntax that removes the need for an
	  IgAssociatedSet by exploiting the fact that associations are always
	  created in order.
	  
	  Notice that now associations are monodirectionally, i.e.,
	  if you want to have the old behavior, you need to associate a to b
	  and b to a.

	  All the code using associations, including test, were redone to use 
	  the new implementation.
	  
	  Tests now also employ the QtTest framework.
	  
	* QtGUI/test/test_CreateSimpleAssociations.cpp  
	  QtGUI/test/test_CreateSimpleCollection.cpp
	  QtGUI/test/test_CreateWriteReadWriteReadPrint.cpp
	  QtGUI/test/test_CreateWriteReadWriteReadPrintNoAssociations.cpp
	  QtGUI/test/test_NavigateAssociations.cpp: old test removed
	  as more uptodate equivalent exists in Framework.


2010-01-28 Tom McCauley <thomas.mccauley@cern.ch>
	
	* build-inst.htm, create-igfiles.htm, release-notes.htm, index.htm:
	update docs for new release

	* default-views.iml: add GsfTracks, PAT & GSF electrons to lego

	* ISpyApplication.cc: add V2 collections to drawing limits and only show collections that exist in event

2010-01-12 Tom McCauley <thomas.mccauley@cern.ch>

	* default-views.iml: add rec hits V2 to lego view

	* ISpyApplication.cc, default-views.iml: add reco Tracks to Lego view
	  by finding eta,phi from the outermost state of the track

	* ISpyApplication.cc, default-views.iml: add photons to lego

	* ISpyApplication.cc: change jet color so that it's the same as default
	
	* default-style.iss: change jet color and add PFJet
	
	* ISpyApplication.cc, default-views.iml: add TriggerObjects to
	  lego

2009-12-16  Giulio Eulisse <giulio.eulisse@cern.ch>

	* IgCollection.h, IgCollection.cc, ISpyApplication.cc:
	  Reworked IgProperty to reduce amount of code to write.
	  At the moment the only way to construct an IgProperty
	  is to use the IgCollection::getProperty(name) method.
	  This patch introduces a new constructor for IgProperty

	      IgProperty(IgCollection *collection, const char *name)

	  which internally does the same thing, but reduces the
	  amount of code to be written from

	      IgProperty POS = collection->getProperty("position");

	  to

	      IgProperty POS(collection, "position");

	  This allows to collapse a few lines and simplify the
	  code.
	
	* ISpyApplication.cc: Fixes issue with gcc 4.2 used on 
	  Snow Leopard.

	* IgCollection.h, IgCollection.cc, ISpyApplication.cc:
	  Refactors the way IgAssociatedSets are created.
	  In particular it is now possible to exploit IgAssociatedSets
	  in the make* drawing methods.
	  Notice this is only a temporary solution until we 
	  actually rewrite the whole IgAssociation* logic
	  so that it takes advantage of the ordered
	  insertion order into the associations.
	  However, given that this patch fixes a nasty bug
	  when iterating over collections that have
	  the same associated set, I simply commit the patch,
	  pending a pretty much complete rewrite of 
	  the whole thing.

2009-12-13  Giulio Eulisse <giulio.eulisse@cern.ch>

	* ig-specs.htm, faq.htm: documentation updated with
	  ig file format description.

2009-12-11  Giulio Eulisse <giulio.eulisse@cern.ch>

	* build-inst.htm: AFS build instructions back.

	* images/ispy-rphi-clip2.png: updated with nice
	  collision candidate image.

2009-12-10  Giulio Eulisse <giulio.eulisse@cern.ch>

	* ISpyApplication.cc: separate various layers of CSC.

	* css-inst.htm, faq.htm: initial documentation of ISS
	  files.

	* default-views.iml, default-style.iss, default-views.xml,
	  default-style.css, ispy.qrc: .css files renamed .iss, .xml ones
	  renamed .iml.

	* screenshots/ss1.png, screenshots/ss1_thumb.png, 
	  screenshots/ss2.png, screenshots/ss2_thumb.png,
	  screenshots/ss3.png, screenshots/ss3_thumb.png,
	  screenshots/ss4.png, screenshots/ss4_thumb.png,
	  screenshots/ss5.png, screenshots/ss5_thumb.png,
	  screenshots/ss6.png, screenshots/ss6_thumb.png, 
	  screenshots/ss7.png, screenshots/ss7_thumb.png,
	  screenshots/ss8.png, screenshots/ss8_thumb.png,
	  css-inst.htm, index.htm, iml-inst.htm: improvements 
	  to the web page, new screenshots, initial description
	  of iml files.

	* default-views.iml: do not draw spline interpolation
	  to the vertex for standalone muons and track in general.

	* ISpyApplication.cc: project points correctly when using 
	  make3DTracksNoVertex.
	
	* ISpyApplication.cc: add an helper method
	  to decide which projection map to use for a given
	  object in a collection. Fixes the crash with 
	  RelValHiggs200ChargedTaus.ig experienced by Ianna.

	* docs/css-inst.htm, docs/faq.htm, docs/iml-inst.htm:
	  more documentation fixes. 
	
	* docs/ispy-news.htm docs/release-notes.htm: improved
	  release notes.

2009-12-09  Giulio Eulisse <giulio.eulisse@cern.ch>

	* default-views.xml, ISpyApplication.cc: new experimental
	  sliced view which shows the various slices of CMS
	  separately.
	
	* ISpyApplication.cc: optimizes the make*Box by using
	  IgProperties rather than something else.

	* default-views.xml: correct zoom factor for the sliced view.

	* IgDrawTowerHelper.cc: normalise rotation axis used by the
	  addRotatedBox method.

	* default-views.iml, default-style.iss, default-views.xml,
	  default-style.css: .css files renamed .iss, .xml ones renamed
	  .iml.

2009-12-09  Thomas McCauley <thomas.mccauley@cern.ch>

	* default-views.xml, default-style.css: adds JETMET (PAT).

2009-12-09  Giulio Eulisse <giulio.eulisse@cern.ch>
	
	* build-inst.htm, common.js, create-igfiles.htm, fancyzoom.min.js,
	  faq.htm, favicon.ico, images/MacOSX_Universal_40px.gif,
	  images/bullet_triangle_green.png, images/developers.png,
	  images/download.png, images/download_background.png, 
	  images/download_background_tall.png,
	  images/email_support.jpg, images/email_support_letter.png,
	  images/fancyzoom/closebox.png, images/feat1.png, images/feat2.png,
	  images/feat3.png, images/feat4.png, images/feat5.png,
	  images/feat6.png,
	  images/index.htm, images/ispy-1-0.jpg, images/ispy-rphi-clip.png,
	  images/ispy-rphi-clip2.png, images/ispy-rz-clip.jpg,
	  images/ispy-rz-clip.png,
	  images/ispy-rz.jpg, images/linux.png, images/lizard-icon-rather-small.png,
	  images/lizard-icon-small.png, images/lizard-icon-very-small.png, 
	  images/lizard-icon.png, images/mac.png,
	  images/rounded_tr.png, images/support_background_bottom.jpg,
	  images/support_background_top.jpg,
	  images/supported_os.png, images/thumbs-up.png, images/twitter_32.png, 
	  images/view_faqs.png, images/windows.png,
	  index.htm, ispy-news.htm, ispy.css, make-web-area.sh, product.css,
	  release-notes.htm, release-notes.old, screenshots/ss1-old.png,
	  screenshots/ss1.png, screenshots/ss1_thumb-full.png,
	  screenshots/ss1_thumb.png, screenshots/ss2-old.png,
	  screenshots/ss2.png, screenshots/ss2_thumb-full.png, screenshots/ss2_thumb.png,
	  screenshots/ss3-old.png, screenshots/ss3.png, screenshots/ss3_thumb-full.png,
	  screenshots/ss3_thumb.png, screenshots/ss4-old.png, screenshots/ss4.png,
	  screenshots/ss4_thumb-full.png, screenshots/ss4_thumb-old.png,
	  screenshots/ss4_thumb.png, screenshots/ss4_thumb2.png,
	  screenshots/ss5-old.png, screenshots/ss5.png, screenshots/ss5_thumb.png,
	  screenshots/ss6-old.png, screenshots/ss6.png, screenshots/ss6_thumb-old.png,
	  screenshots/ss6_thumb.png, screenshots/ss6_thumb2.png, some.css, ttt:
	  documentation files added to repository.
	  
	* ISpyApplication.h, ispy.pro, ISpyApplication.cc, Style.h: Separates 
	  the style class in a different header.

	* ISpyApplication.h, ispy.pro, ISpyApplication.cc: Watches the 
	  .iss specified on command line for changes and updates
	  the display accordingly.

	* ISpyApplication.h, ISpyApplication.cc, IgDrawTowerHelper.h,
	  default-style.css, default-style.css, default-views.xml
	  ISpyApplication.cc, IgDrawTowerHelper.cc, Projectors.h: Introduces 
	  a new infrastructure for generic projections. This is handled
	  by the Projector structure that is now passed to every make3D*. Such a
	  structure includes all the possible helper functions that make3D* can use
	  to do the projections. This is really a poor-man, unaccelerated, vertex
	  shader infrastructure. Adding new views should be just a matter of
	  specifying new projectors (including stuff like the tracker view!!!).
	  Notice that besides the "project" helper function, that transforms a
	  single point, there is also a "projectAs" one that allows to resolve
	  discontinuities in the mapping by projecting a point using the same map that
	  would be used to project another one. This comes very handy for RZ.
	  Fixes RZ view for trigger objects, jets, met, muons, tracks, DT, CSC,
	  all generic calo rec hits and clusters, simtracks.

	* index.htm, ISpyApplication.cc, ISpySplashScreen.ui: version bumped
	  to 1.4.3.

	* ISpyApplication.cc: correct units for preshower rec hits graphic
	  cuts.

	* ISpyApplication.cc: Fixes the segfault happening whenever the 
	  filename is wrong.

	* ISpyApplication.cc, default-views.xml, ISpyApplication.h:
	  Configurable autoplay via iml. Adds an "autoplay" property to the 
	  view item in the iml so that we can select which views get shown 
	  in autoplay mode. Lego is actually turned off in autoplay,
	  as requested.

	* default-style.css: fixes color for CaloClusters_V1.

2009-12-09  Ianna Osborne <ianna.osborne@cern.ch>

	* ISpyApplication.h, ISpyConsumer.h, ISpyConsumerThread.h, 
	  ISpyApplication.cc, ISpyConsumerThread.cc
	  ISpyEventSelectorDialog.cc, ISpyEventSelectorDialog.h:
	  stay on last event in the case no events are served from
	  online producers.

	* ISpyApplication.h, ISpyApplication.cc: ig file name
	  (or online information) in title bar.

2009-12-09  Thomas McCauley <thomas.mccauley@cern.ch>

	* default-style.css, default-views.xml: support for new _V2
	  rechits.

2009-12-04  Giulio Eulisse <giulio.eulisse@cern.ch>

	* default-views.xml, ISpyApplication.cc: Initial attempt at proper 
	  RZ projection for tracks.

	* ISpyApplication.h, default-style.css, default-views.xml
	  ISpyApplication.cc: Display graphical client cuts on screen.

	* default-views.xml, ISpyApplication.cc: photons are now (almost)
	  correctly projected in RZ.

2009-12-04  Ianna Osborne <ianna.osborne@cern.ch>
	
	* ISpyApplication.cc: Fixes the crash introduced by 
	  filtering online stream.

2009-12-04  Giulio Eulisse <giulio.eulisse@cern.ch>

	* CMS-Color.png, ISpyApplication.h, cms-bw-medium.png,
	  ispy.qrc, ISpyApplication.cc: sharper logo and more 
	  embedded logos.

2009-12-03  Giulio Eulisse <giulio.eulisse@cern.ch>

	* ISpyApplication.cc, ISpyApplication.h, default-style.css: top 
	  and left properies added to control position of annotations.

	* Ig3DBaseModel.cc: fixes leak in setCamera reported by Ianna.

2009-12-02  Ianna Osborne <ianna.osborne@cern.ch>

	* ISpyApplication.cc, ISpyApplication.h: enable online filtering.

2009-12-01  Giulio Eulisse <giulio.eulisse@cern.ch>

	* ISpyApplication.cc, ISpySplashScreen.ui: version number changed to
	  be 1.4.2.

2009-12-01  Thomas McCauley <thomas.mccauley@cern.ch>

	* ISpyApplication.cc, default-views.xml: do not extrapolate
	  muon tracks to the vertex.

	* default-views.xml, default-style.css: draw CSS Rec Hits (2D).

	* ISpyApplication.cc, default-views.xml, default-style.css:
	  draw HLT information.

2009-12-01  Giulio Eulisse <giulio.eulisse@cern.ch>

	* ISpyApplication.cc: trap schema errors when they occur
	  while rendering.

2009-12-01  Ianna Osborne <ianna.osborne@cern.ch>

	* ISpyApplication.cc, default-views.xml: display 
	  of technical triggers.

2009-11-30  Giulio Eulisse <giulio.eulisse@cern.ch>

	* ispy.cpp: silence COIN complaints about indirect rendering
	  when running remotely.

	* ISpyApplication.cc, ISpyApplication.h: adds a new CSS property
	  "annotation" to control annotation level. The property can be 
	  either: "none", "normal", "full" or "press" and controls
	  the amount of information that a given rendering method
	  will show. This is useful, for example, to show the full event
	  information while still being	able to quickly produce images 
	  for the press.

	* ISpyApplication.cc: fixes Lego views scaling. This fixes a
	  regression which was introduced by the styles.

2009-11-26  Giulio Eulisse <giulio.eulisse@cern.ch>

	* ISpyApplication.cc: fixes bug when the logo is for some
	  reason not readable.

2009-11-25  Giulio Eulisse <giulio.eulisse@cern.ch>

	* ispy.cpp, default-style.css, default-views.xml, ispy.qrc,
          ispy.pro, ISpyApplication.cc, ISpySplashScreen.ui: 
	  more tweaks done together with Ianna and Tom to get 
	  collisions pictures just right.

2009-11-25  Lucas Taylor <lucas.taylor@cern.ch>

	* ISpy3DView.cc: enable antialiasing of lines.

2009-11-25  Ianna Osborne <ianna.osborne@cern.ch>

	* default-style.css: improved cuts.

	* IgNet.cc: improved buffer size so that we can look at big online 
	  events.

2009-11-25  Giulio Eulisse <giulio.eulisse@cern.ch>

	* Allow view definition in an xml file.

	* ISpyApplication.h, default-style.css, ISpyApplication.cc: 
	  Improved stylesheet parsing.

	* ISpyApplication.cc, ISpyApplication.h: read configuration files from
	  disk.

	* IgParser.h: improve parser speed for igfiles.

	* ISpyApplication.cc: optimize collection navigation.

	* IgDrawTowerHelper.h, IgDrawTowerHelper.cc: much improved  / optimized 
	  helper for drawing towers and cubes.

	* ISpyApplication.cc: fix a few warnings.

	* ispy.pro: adds support for freetype.

	* ISpyApplication.cc, default-style.css, ISpyApplication.h: improved overlay 
	  creator helper, including support for fonts of different sizes.

	* ISpyApplication.cc, default-style.css: change make3DEvent text /
	  style to match the one requested by the spokesman.

	* ISpyApplication.cc: Disable notification while we are editing the
	  separator.
	
	* ISpyApplication.h, default-style.css, ISpyApplication.cc: put
	  physics limits in css.

	* ISpyApplication.cc: faster CSC Rec hits.

	* ISpyApplication.cc, ispy.pro, ispy.qrc, CMS-Color.png
	  cms-logo-small.png: CMS logo added.

2009-11-11  Giulio Eulisse <giulio.eulisse@cern.ch>

	* ISpyApplication.cc: Version number changed to 1.4.0.

2009-11-04  Ianna Osborne  <ianna.osborne@cern.ch>

	* ISpyApplication.cc: Draw HCAL and ECAL rechits as histograms in
	  RZ view.

	* IgMainWindowMDI.1.0.ui: Enable printing to a printer/file and
	  saving a picture to a file.

	* ISpy3DView.h, ISpy3DView.cc: Enable printing to a file. Use
	  proper printer dialog. Use save member function to save an
	  image. Save as .iv format should go to an expert export as menu.

	* ISpyApplication.cc: Hide extra stuff in a play mode.

	* ISpyPicturePublishingDialog.h, ISpyPicturePublishingDialog.cc: A
	  picture publishing settings dialog.
	
	* ISpyPicturePublishingDialog.ui: Designer file for the above
	  dialog.

	* ISpy3DView.h, ISpy3DView.cc, ISpyApplication.h,
	  ISpyApplication.cc: Enable auto printing of the png images in a
	  given directory with a given time delay.

	* IgMainWindowMDI.1.0.ui: A menu for launching the dialog added.

2009-11-03  Giulio Eulisse <giulio.eulisse@cern.ch>

	* default-style.css: background back to black.

2009-11-03  Thomas McCauley <thomas.mccauley@cern.ch>

	* default-style.css: better style when rendering GSF electrons.

	* ISpyApplication.cc: reshuffling of items in Physics Objects 
	  group.

	* ISpyApplication.cc: do not draw calotowers since it does 
	  not take hadronic contribution into account.

	* IgDrawTowerHelper.cc: make colors of Ecal, Hcal rec hits
	  the same as the colors in 3D views.

	* ISpyApplication.cc: disable CaloTowers, MET, Jets, DT digis 
	  and rec hits by default to avoid slow down with splash events.

2009-10-28  Giulio Eulisse <giulio.eulisse@cern.ch>

	* ISpyApplication.cc, ISpySplashScreen.ui: version number bumped 
	  to 1.3.1.

2009-10-28  Tom McCauley <thomas.mccauley@cern.ch>

	* ISpyApplication.cc, default-style.css: add support for
	  CaloClusters and SuperClusters

2009-10-28  Giulio Eulisse <giulio.eulisse@cern.ch>

	* ISpyApplication.cc: revert to make3DBoxes for HCAL rec hits
	  in R-PHI and RZ.

2009-10-28  Thomas McCauley <thomas.mccauley@cern.ch>

	* ISpyApplication.cc: GSF electrons support.

	* ISpyApplication.cc: Move muons to physics objects.

	* ISpyApplication.cc, default-style.css: PAT muons support.

	* ISpyApplication.cc, default-style.css: PAT electrons support.
	
	* ISpyApplication.cc: Trigger objects drawing.

	* ISpyApplication.cc, default-style.css: add support for
	  PAT and Reco Photons.

2009-10-28  Giulio Eulisse <giulio.eulisse@cern.ch>

	* ISpyMainWindow.h, ISpyRestartPlayDialog.h ISpySplashScreen.h          
	  IgSettingsEditor.h, ui_ISpyRestartPlayDialog.h, ui_ISpySplashScreen.h
	  ui_IgMainWindow.h, ui_IgSettingsEditorMainWindow.h ispy.pro                      
	  ISpySplashScreen.ui, IgMainWindowMDI.ui: qmake now runs uic. No
	  need anymore for generating the ui_* files by hand.

2009-10-19  Giulio Eulisse <giulio.eulisse@cern.ch>

	* ISpyApplication.cc, Iguana/QtGUI/interface/default-style.css,
	  ISpyApplication.h, ispy.qrc, ISpy3DView.cc: rendering style
	  of various collection is now managed in a css like
	  file which contains all the materials and draw properties.
	  The default style was actually prepared by Lucas.

	* ispy.pro: Creates resources using qmake. No need anymore 
	  for generating `qrc_*.cc` resource files by hand.

2009-10-19  Ianna Osborne <ianna.osborne@cern.ch>

	* ISpyApplication.cc: Correct size of ECAL rec hits in Lego.

2009-10-19  Giulio Eulisse <giulio.eulisse@cern.ch>

	* ispy.pro: track header (.h) files which are kept in src/ .

2009-10-07  Lucas Taylor <lucas.taylor@cern.ch>

	* ISpyApplication.cc: more changes to name / visibility of the
	  collection to match the PBS.

	* ISpyApplication.cc: improved event information.

2009-10-07  Ianna Osborne  <ianna.osborne@cern.ch>

	* ISpyApplication.cc: Add Jets to Lego view. Display as circles.

	* ISpyApplication.cc: Add and display HCAL rechits to Lego view.

	* ISpyApplication.cc: Add and draw ECAL rec hits in Lego.

2009-10-05  Ianna Osborne  <ianna.osborne@cern.ch>

	* ISpy3DView.cc: Do not allow popping up a non-functional GUI on
	  right mouse click.
	  
2009-09-13  Giulio Eulisse <giulio.eulisse@cern.ch>

	* ispy.pro, Iguana/QtGUI/src/Info.plist, Iguana/QtGUI/src/ispy.icns:
	  MacOSX version now has a nice icon.

	* ispy.pro: build as "release" by default.

	* ispy.pro: MacOSX Tiger (10.4) support.

	* ISpyApplication.cc: made a few terminal only errors
	  also pop up a error dialog.
	
	* ISpyApplication.cc: automatically downloads geometry.
	
	* ISpyApplication.cc, ui_ISpySplashScreen.cc: release version

2009-09-12  Tom McCauley <thomas.mccauley@cern.ch>

	* ISpyApplication.cc: CSC wire and strip digis in 3D and RZ.
	
	* ISpyApplication.cc: thicken all track lines to 3

2009-09-11  Tom McCauley <thomas.mccauley@cern.ch>

	* ISpyApplication.cc: make MET dashed and get rid of spurious code
	  in drawing method.

2009-09-08  Giulio Eulisse <giulio.eulisse@cern.ch>
	
	* ispy.pro: typo in qmakefile corrected.
	
	* Iguana/QtGUI/scripts/ispy.pro: qmakefile to build ispy without
	  scram.

2009-09-08  Tom McCauley <thomas.mccauley@cern.ch>

	* ISpyApplication.cc: enable V2 of stand-alone muons, thicken reco
	  tracks, and minor clean ups in track draw code

2009-08-04  Ianna Osborne  <ianna.osborne@cern.ch>

	* ISpyApplication.h, ISpyApplication.cc: Enable sorting of in the
	  table view.

2009-09-04  Giulio Eulisse <giulio.eulisse@cern.ch>

	* IgCollectionTableModel.cc, IgMainWindowMDI.1.0.ui: make index
	  column in table a real column rather than an header.

2009-09-04  Lucas Taylor <lucas.taylor@cern.ch>

	* ISpyApplication.cc: significantly re-organises all the tree
	  widget collections to:
	  1) be consistent with the structure of the (Excel) PBS
	  2) make them mututally consistent (with other views)
	  3) use more understandable friendly names
	  4) add some collections missing in some views
	  5) improve visibility of the track like objects

2009-09-02  Giulio Eulisse <giulio.eulisse@cern.ch>

	* ISpyApplication.cc: clean-up code to always use IgProperties
	  to retrieve stuff from the collection rather than use
	  strings.

2009-08-26  Giulio Eulisse <giulio.eulisse@cern.ch>

	* BuildFile.xml: link libgcc statically so that we don't
	  have conflicts with CMSSW environment.

2009-08-26  Tom McCauley <thomas.mccauley@cern.ch>

	* ISpyApplication.cc: draw GsfPFRecTracks and PFBrems.

	* ISpyApplication.cc: draw PFRecHits and PFRecTracks

2009-08-26  Giulio Eulisse <giulio.eulisse@cern.ch>

	* ispy.cpp: reset locale settings to avoid parsing problems.

2009-08-24 Tom McCauley <thomas.mccauley@cern.ch>

	* ISpyApplication.cc: draw GsfTracks in RPhi and remove spurious 
	GsfTrack draw in 3D

2009-08-20 Tom McCauley <thomas.mccauley@cern.ch>

	* ISpyApplication.cc: keep older muon drawing code along with new
	drawing of 3 muons -> for 3D, RZ, RPhi

2009-08-20  Giulio Eulisse <giulio.eulisse@cern.ch>
	
	* IgParser.h: workaround bad_alloc exceptions by reducing ig file 
	  parser memory reservation. A proper fix will follow.

	* ui_ISpySplashScreen.h, ISpyApplication.cc, ISpySplashScreen.ui
	  ISpyApplication.cc: version number changed to 1.2.2.

2009-08-20 Ianna Osborne <ianna.osborne@cern.ch>

	* ISpyApplication.cc: closes the application correctly (by calling
	  onExit only once) when last window is closed. This fixes the
	  bug which had the consumer thread hanging on exit in online mode.

2009-08-19  Ianna Osborne  <ianna.osborne@cern.ch>

	* ISpyApplication.cc: Add Event and L1 trigger info in Lego.

	* ISpyApplication.cc: Set a better default camera position for
	Lego. 

2009-08-17  Ianna Osborne  <ianna.osborne@cern.ch>

	* ISpyConsumerThread.h, ISpyConsumerThread.cc, ISpyApplication.cc:
	  Implementation of online event navigation. The new events are
	  taken from an online buffer. Previously viewed events are
	  stored in a viewed buffer. If the producer goes down, the events 
	  from the online buffer are still served, but marked as staled.
	  Previously viewed events displayed with such message.

2009-08-14 Thomas McCauley  <mccauley@mail.cern.ch>

	* ISpyApplication.cc: yet another renaming for the default "Open url"
	  file.

2009-08-14  Ianna Osborne  <ianna.osborne@cern.ch>

	* ISpyConsumer.h: Cleanup unused production of latest ig file.

2009-08-13  Ianna Osborne  <ianna.osborne@cern.ch>

	* ISpyConsumerThread.cc, ISpyConsumerThread.h, ISpyConsumer.h:
	Change passing string to IgNet::Objects.

2009-08-13  Ianna Osborne <ianna.osborne@cern.ch>

	* ISpyConsumer.h: reverts I/O interval to default value as it
	  was erroneously changed in the first place. This improves
	  performance of the "online" infrastructure.

2009-08-10  Giulio Eulisse <giulio.eulisse@cern.ch>

	* ISpyApplication.cc, ISpySplashScreen.ui, ui_ISpySplashScreen.h: 
	  Misc fixes for 1.2.1. Version number bumped to 1.2.1.
	  Hypernews forum used on feedback dialog.

2009-08-10  Ianna Osborne <ianna.osborne@cern.ch>

	* ISpyApplication.cc: improved display option for DT and 
	  SiStrip.

2009-08-10  Lucas Taylor <lucas.taylor@cern.ch>

	* ISpyApplication.cc: uses a different rel val file as default
	  one for the "open url" dialog. The new one contains examples
	  of the sim tracks and other new objects available since 1.2.

2009-08-10  Thomas McCauley <mccauley@mail.cern.ch>

	* ISpyApplication.h: Displays L1 Trigger information in the 
	  3D view.

2009-08-06  Ianna Osborne  <ianna.osborne@cern.ch>

	* IgDrawTowerHelper.h, IgDrawTowerHelper.cc: Displays calo towers
	in lego. 
	* ISpyApplication.cc: Introduces Lego view. Displays lego grid.
	* IgNetworkReplyHandler.cc: Closes the device before aborting.

	* ISpyApplication.cc: Display preshower rechits in 3D abd RZ
	views. 

2009-08-03  Ianna Osborne  <ianna.osborne@cern.ch>

	* ISpyApplication.h, ISpyApplication.cc: Remove circular
	dependencies between ISpyMainWindow and ISpyApplication. Remove
	circular dependencies between ISpySplashScreen and
	ISpyApplication. Remove unused member functions for cleaning up
	the splash screen. Clean up the splash at the end with a thank you
	message.
	* ISpyMainWindow.h, ISpyMainWindow.cc: Remove circular
	dependencies between ISpyMainWindow and ISpyApplication. 
	* ISpySplashScreen.h, ISpySplashScreen.cc: Remove circular
	dependencies between ISpySplashScreen and ISpyApplication. Clean
	up unused but emitted signals from the splash screen. Use more
	portable window settings to add a close button on the splash
	screen which also works on Linux. 

2009-07-26 Giulio Eulisse <giulio.eulisse@cern.ch>

	* ISpyApplication.h, IgNetworkReplyHandler.h, ISpyApplication.cc
	  IgNetworkReplyHandler.cc: improves the behavior of the download
	  dialog and simplifies some of its internal logic.

2009-07-26 Lucas Taylor <lucas.taylor@cern.ch>

	* ISpyApplication.cc: increased delays between switching from 
	  a view to another. Increase event fetching period for Auto-Play
	  mode.

2009-07-26 Ianna Osborne <ianna.osborne@cern.ch>

	* ISpyApplication.cc: visibility settings as requested by online.

2009-07-26 Giulio Eulisse <giulio.eulisse@cern.ch>
	
	* ISpyApplication.cc: toolbar on mac uses "unified" look.
	
	* ISpySplashScreen.ui, ui_ISpySplashScreen.h, ISpyApplication.cc:
	  version string updated to 1.2.

	* IgNet.cc: increases the MESSAGE_SIZE_LIMIT to 8MB. This
	  works around the "Message too big" errors when connecting to the
	  online producers.

	* ISpySplashScreen.cc, ISpyApplication.cc: adds a close button
	  to the splash screen dialog also on mac.

	* ISpyApplication.cc, IgCollectionTableModel.cc,
	  IgCollectionTableModel.h: adds a clear method to the
	  IgCollectionTableModel and uses it to clear the model on 
	  updateCollection, rather deleting it.

2009-07-24 Giulio Eulisse <giulio.eulisse@cern.ch>

	* ISpyApplication.cc, ISpyApplication.h, ISpy3DView.cc, ISpy3DView.h:
	  adds the possibility to specify whether a given camera can be
	  rotated or not. This feature is used to make sure R-Phi and R-Z
	  views cannot be rotated.

2009-07-22 Ianna Osborne <ianna.osborne@cern.ch>

	* ISpyApplication.cc: when using `--online` the application starts
	  up maximized.
	
	* IgDrawTowerHelper.h, ISpyApplication.cc, IgDrawTowerHelper.cc:
	  Proper views for 3D, R-phi, R-Z, including correct geometry and
	  nice event products selection. Geometry is also now drawn in 
	  wireframe.

	* ISpyRestartPlayDialog.cc, ISpyApplication.h, ISpyApplication.cc
	  ui_ISpyRestartPlayDialog.h, ISpyRestartPlayDialog.ui: support
	  for iteration over different views in autoplay mode. When paused
	  it will pop up an "idle" dialog after a while. Notice this
	  is not the correct behavior as the "idle" timer should start
	  when user interaction ends and should be reset when ever there is
	  some more interaction.

	* ISpy3DView.h, ISpy3DView.cc: resetToHomePosition method removed,
	  since it is now responsibility of the ISpyApplication class.

2009-07-21 Giulio Eulisse <giulio.eulisse@cern.ch>

	* ISpyApplication.cc: Fixes a bug in the geometry caching logic.
	  There was a bug when caching geometry across view changes which is
	  due to the fact that multiple views could generate shapes using
	  different make3D functions (or, like in this case, some of the views
	  could even not have a make3D). The second patch makes sure that
	  everything is consistent. This pretty much disables the caching
	  across view changes. At some point we should add some better caching
	  logic so that the cache takes the make3D used into account. Not for
	  now.

	* ISpyApplication.cc, ISpyApplication.h: Implements visibility groups.
	  A visibility group is a set of collections among which all those
	  referring to the same IgCollection (label) share the same visibility
	  settings. A visibility group is defined by doing:

	  visibilityGroup()

	  in the definition of the views. All subsequent collection()
	  statement will belong to the previous visibility group. This can be
	  used to track visibility separately across views by having one
	  visibility group per view. E.g.:

	  ..
	  visibilityGroup();
	  view("Some View");
	  collection("A1", "A_V1");
	  collection("B1", "B_V1");
	  view("Some other view");
	  collection("A2", "A_V1");
	  visibilityGroup();
	  view("Some third view");
	  collection("A3", "A_V1");
	  ..

	  in the above example, A1 and A2 share the same visibility settings
	  (because they belong to the same visibility view). B1 is independent
	  from A1,A2,A3 (because it refers to a different collection). A3 is
	  independent from A1 and A2, because it is in another visibility
	  group.
	            
	  Notice that while not currently implemented (because we don't have
	  any GUI for handling it), it is trivial to add the possibility to
	  link and unlink the visibility settings of views at run time.
	  Something cool to have once we get the subviews working.

2009-07-21  Ianna Osborne <ianna.osborne@cern.ch>

	* Remove unnecessary conversion to std::string
	* Remove unnecessary copy to std::stringstream

2009-07-19  Giulio Eulisse <giulio.eulisse@cern.ch>
	
	* ui_IgMainWindow.h, ISpyMainWindow.cc, IgMainWindowMDI.1.0.ui:
	  Three "File > Open XXX" menus merged into one single "Open..." 
	  which only shows the wizard.

2009-07-18  Ianna Osborne <ianna.osborne@cern.ch>
	
	* ui_IgMainWindow.h IgMainWindowMDI.1.0.ui, ISpyApplication.cc
	  ISpyMainWindow.cc: unneeded actions removed.

	* ispy.qrc, ui_IgMainWindow.h IgMainWindowMDI.1.0.ui, 
	  qrc_ispy.cc: improved icons for autoplay and pause.

2009-07-17  Ianna Osborne <ianna.osborne@cern.ch>

	* ISpyApplication.cc, ISpyConsumerThread.cc, IgNet.cc
	  ISpyApplication.h, ISpyConsumer.h, ISpyConsumerThread.h
	  ISpyDigitalClock.h, ISpyApplication.cc, ISpyDigitalClock.cc:
	  support for online. Specifying --online host:port on the 
	  command line, ispy will connect a DQM like producer
	  of events. In this mode iSpy starts in "auto play" mode
	  and will fetch a new event every 15 seconds.

	* ISpyApplication.cc: clean up of QSettings for online.

2009-07-17  Thomas McCauley <mccauley@mail.cern.ch>

	* ISpyApplication.cc: more clean-ups to the GSF and normal tracks.

2009-07-17  Ianna Osborne <ianna.osborne@cern.ch>

	* ISpyApplication.cc, IgDrawTowerHelpers.cc, IgDrawTowerHelpers.h:
	  fixes overlapping contributions to the calo towers.

	* IgDrawTowerHelpers.cc, IgDrawTowerHelpers.h: few cosmetic fixes.

2009-07-17  Giulio Eulisse <giulio.eulisse@cern.ch>
	
	* stylesheet-branch-open.png, ispy.qrc, ui_IgMainWindow.h
	  ISpyApplication.cc, IgMainWindowMDI.1.0.ui, qrc_ispy.cc:
	  improved look and feel of the combo box controlling
	  which view is selected. Among other things works around
	  the bug in mouse-wheel handling in Qt.

	* ISpy3DView.h, ISpyApplication.h, Ig3DBaseModel.h,
	  ISpy3DView.cc, ISpyApplication.cc, Ig3DBaseModel.cc:
	  support for view with separate cameras. There is now
	  an additional method "camera" to specify the initial
	  (default) camera all the subsequently defined views share.


	* ISpyApplication.cc, ISpyApplication.h,
	  ui_IgMainWindow.h, IgMainWindowMDI.1.0.ui: multiple view
	  support added. There is now a "view" specification method, 
	  which can be used to assign all the subsequent "collection"
	  specification to a given view.

2009-07-16  Thomas McCauley <mccauley@mail.cern.ch>

	* ISpyApplication.cc: support for GSF tracks and L1 triggers.

2009-07-14  Thomas McCauley <mccauley@mail.cern.ch>
	
	* ISpyApplication.cc: renaming / regrouping of collections.

2009-07-10  Thomas McCauley <mccauley@mail.cern.ch>

	* ISpyApplication.cc: Fixes spurious SimHits.

2009-07-09  Giulio Eulisse <giulio.eulisse@cern.ch>

	* ISpyApplication.cc, ISpyApplication.h,
	  ui_IgMainWindow.h, IgMainWindowMDI.1.0.ui: better look 
	  and feel for the tree viewer.
	  Besides prettier colors and fonts, it now resizes correctly,
	  with the number of items and the checkbox remaining anchored
	  to the right side.
	
2009-07-08  Thomas McCauley <mccauley@mail.cern.ch>

	* ISpyApplication.cc: better grouping of collections.

2009-07-07  Giulio Eulisse <giulio.eulisse@cern.ch>

	* ISpyApplication.h, ISpyMainWindow.h, ispy.qrc, ui_IgMainWindow.h:
	  reverting erroneous commit by Ianna.

2009-07-03  Giulio Eulisse <giulio.eulisse@cern.ch>

	* ISpyApplication.cc, ISpyApplication.h: support from two level
	  grouping structure in the tree view. It is now possible to
	  specify a two level structure by simply passing "Group/Name" to
	  the "collection" method. Group state (expanded or collapsed) is
	  preserved across event / file boundaries. Collection specification
	  without a two level grouping will be added by default to the
	  "Others" group.

2009-07-02  Giulio Eulisse <giulio.eulisse@cern.ch>

	* ISpyApplication.cc: more fixes in the tree view. In particular
	  elements are now sorted according the order in which `collection`s
	  specifications are created. 

2009-07-02  Giulio Eulisse <giulio.eulisse@cern.ch>

	* ISpyApplication.cc: Fix the about dialog not appearing correctly.

2009-07-02  Thomas McCauley <mccauley@mail.cern.ch>

	* ISpyApplication.cc: updated default settings for visibility.

2009-06-29  Giulio Eulisse <giulio.eulisse@cern.ch>
	
	* ISpyApplication.cc: Misc cosmetic fixes.

	    * Documentation for the visibility option added. 
	    * NULL changed to 0 everywhere.

	* ISpyApplication.cc: reindentation fixes.

2009-06-29  Giulio Eulisse <giulio.eulisse@cern.ch>

	* ISpyApplication.h, ISpyApplication.cc: Improved visibility handling.
	  
	  * Removes dependency on QSettings.
	  * Adds an option to specify the default visibility for each
	    collection spec.
	  * Does not show the checkbox in the case the collection is not to be
	    drawn in 3D.  

2009-06-29  Thomas McCauley <mccauley@mail.cern.ch>

	* IgSoSplineTrack.cc, ISpyApplication.cc: SimTracks support.
	  Includes fix for "last dot" from George.

Script to indent sources added to repository.

* Requires Lassi's defaults and emacs.

Fixes all the known indentation and spacing issues.

* 2 spaces rather than 4 for indentation.
* No tabs.
* No space between method name and "(...)".

Remove gl2ps and associated code.

Cleans up Iguana/Inventor shapes.

* Unused shapes (and tests) removed from Iguana/Inventor.
* Used shapes (and tests) moved to Iguana/QtGUI/src (or test).
* Workaround to get the patch working with old release
  areas.

MDI Widget removed.

The following patch fixes a few warnings, in particular:

* Removes (or uses properly) unused parameters.
* Fixes a warning about signed / unsigned conversions.
* Removes useless assert for unsigned int > 0.
* Fixes ambiguous if - else if statement.

Misc fixes (Lassi & Giulio).

* Uses /afs/cern.ch/cms/CAF/CMSCOMM/COMM_DQM/ispy-files as shortcut in the dialog.
* Uses a working url as default for the Open Url dialog.
* Removes "," after please.
* Transparency is now back to "sorted object blend".
* Resilient handling of archives with both geometry and events.

New web wizard and ability to fetch stuff from the web (Giulio).

* On startup, if no files are provided, a new wizard pops up, allowing you,   
  among other things, to download files from the web.
* The new startup wizard also provides a "Latest News" dialog and a slighly
  reworked "About" dialog. The "Latest News" dialog fetches news from:

    http://iguana.web.cern.ch/iguana/ispy/ispy-news.htm

* An "Open url" dialog (accessible from the "File" menu) is provided to 
  download ig files by specifying a url. 

Improved event drawing logic to highlight interesting parts. (Lucas)

* General tuning of all drawstyles to be able to see key physics features
  without the need to turn off all low energy / high multiplicity objects 
  first.
* Fix tracker/pixel hits, digis and rec hits colors and shapes
    * same base colour per detector
    * higher multiplicity objects (e.g. digis) dimmer
    * pixels hotter than strips
* Draws the HCAL energy not as towers but as boxes centred on
  Calorimeter cell and scaled by energy but not to exceed tower size.
* Create IgDrawTowerHelpers on stack (to avoid memory leaks).
* New missing Et drawing with energy label.

Reworked drawing logic by Lassi.

* All the twigs are now gone, drawing logic moved completely to
  ISpyApplication.
* Multi-threaded read logic is now gone.
* About dialog now behaves correctly.
* Geometry and envets can now be part of the same file.
* Multiple files can be read and iSpy behaves as expected.
* Collection table now updates correctly.

Improved API for IgCollection, IgCollectionIterator, IgDataStorage, ParseError

* Operators ++, --, -= += for IgCollectionIterator properly implemented. 
* Arrow (->) operator added for IgCollectionIterator.
* IgCollection::hasProperty(const std::string &) added.
* IgDataStorage::getCollectionPtr / IgDataStorage::getAssociationSet
  now can retrieve properties using an std::string or the position 
  of the collection / association set in the data storage.
* ParseError now can return the  position where the error occurred.

Improved overlay display.

* Better formatting / control of formatting
* Multi-line (primitive table) for event info
* perspective -> orthographic camera to avoid strange behaviour when resizing  
  window
